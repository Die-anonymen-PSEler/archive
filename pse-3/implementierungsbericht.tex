\documentclass[parskip=full]{scrreprt}

\usepackage{helvet}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\inputencoding{utf8}
\usepackage{hyperref}
\usepackage{mathtools}
\usepackage[xindy]{imakeidx}
\makeindex
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{cleveref}
\usepackage[autostyle=true,german=quotes]{csquotes}
\renewcommand{\familydefault}{\sfdefault}
\begin{document}


\title{Implementierungsbericht: RetroMachines, \\ RetroFactory}
\author{Luca Becker, Henrike Hardt,\\Larissa Schmid, Adrian Schulte,\\Maik Wiesner}
\date{1. Dezember 2014}
\maketitle
\thispagestyle{empty}

\clearpage

\thispagestyle{empty}
\tableofcontents
\thispagestyle{empty}

\clearpage
\setcounter{page}{1}

\chapter{Einleitung}

\chapter{Änderungen am Entwurf}

Falls nicht anders angegeben handelt es sich bei den Methoden um public Methoden.

\section{Package: data}

\subsection{AssetManager}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[Getter und Setter] Um auf die Spielelemente gezielt zugreifen zu können, haben wir uns entschieden, diese im AssetManager zu verwalten. Mit Übergabe der jeweiligen TiledMap werden daraufhin die Spielelemente ausgelesen und mithilfe der get-Methoden zurückgegeben.
\end{description}

\section{Package: models}

\subsection{Model}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[destroy] Löscht den Eintrag, der aktuell durch das Model repräsentiert wird, durch das Model aus der Datenbank.
\end{description}

\subsubsection{Modifizierte Methoden}
\begin{description}
	\item[getStatement - \textit{protected}] Erstellt ein Statement, das zur Ausführung von Abfragen auf der Datenbank ausgeführt werden kann.
\end{description}

\subsection{Profile}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[getAllProfiles] Erstellt ein String-Array, welches alle Profile enthält, die sich aktuell in der Datenbank befinden.
	\item[getProfileNameIdMap] Erstellt eine HashMap, welche als Abbildung von einem Profilnamen auf dessen Identifikationsnummer dient.
\end{description}

\subsection{Setting}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[Konstruktor] Es wurde ein Konstruktor eingefügt, der das Erstellen eines Setting-Objektes mit Standardwerten erlaubt.
\end{description}

\subsection{Statistic}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[Konstruktor] Es wurde ein Konstruktor eingefügt, der das Erstellen eines Statistic-Objektes mit Standardwerten erlaubt.
\end{description}

\section{Package: game.controller}

\subsection{GameController}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[update] Führt einen Schritt der Spielwelt aus.
\end{description}


\subsection{ProfileController}

\subsubsection{Hinzugefügte Methoden}
\begin{description}
	\item[deleteProfile]
\end{description}

\subsection{Lambda-Datenstruktur}

Im ursprünglichen Entwurf bestand der Baum, der den Lambda-Term darstellt, aus Instanzen der Klasse \textit{Vertex}. Diese hatten als Attribut den jeweiligen Typ (Applikation, Abstraktion, Variable). Wir haben uns entschieden, das zu ändern und stattdessen Polymorphie und dynamische Bindung zu verwenden. Die Klasse \textit{Vertex} ist nun abstrakt und hat die Subklassen \textit{Application}, \textit{Abstraction}, \textit{Variable} und \textit{Dummy}, welche für die Elemente des Lambda-Terms stehen. Dabei sind Instanzen von \textit{Dummy} Platzhalter (leere Knoten), mit denen der LevelTree zu Beginn initialisiert wird.
Falls das JSON des Levels nun zwar an sich eine gültige JSON-Syntax hat, diese aber nicht mehr als Lambda-Term korrekt ist, wird nun eine InvalidJsonException (auch in util.lambda) verwendet, um diesen Fall angemessen zu behandeln.

\chapter{Muss- und Wunschkriterien}

\section{Nicht umgesetzte Wunschkriterien}

\begin{description}
	\item Auslieferung in mehreren Sprachen
	\item Challengemode mit Zeitdruck
	\item Werkstatt zum Umbauen von Maschinen
	\item Highscore-Tabelle
	\item Mehrere Spielmodi
	\item Begleitende Story
	\item Steuerung durch Wischgesten
\end{description}

\section{Umgesetzte Wunschkriterien}
	\item Mehrere Spielcharaktere
	\item Erweiternde Spielelemente (Einstellung des Steuerungsmodus: Rechts- oder Linkshänder)

\begin{description}
	\item Pixelgrafik / Retrolook / reduzierter Farbraum
\end{description}

\chapter{Zeitlicher Ablauf}

\section{Adrian}

\begin{description}
	\item[]
\end{description}

\section{Henrike}

\section{Larissa}

\section{Luca}

\begin{description}
\item[21.01. - 26.01.]
Implementierung der Pakete \emph{data} und \emph{data.model}.
\item[28.01. - 30.01.]
Fehlerbehebung
\item[30.01. - 01.02.]
Implementierung des Pakets \emph{game.controllers}
\item[04.02. - 08.02.]
Implementierung der Klasse \emph{GameScreen} und Fehlerbehebung des Pakets \emph{game.controllers}
\item[08.02. - 13.02.]
Fehlerbehebung und Implementierungsbericht
\end{description}

\section{Maik}

\chapter{jUnit-Tests}

\section{Package: models}

\subsection{GlobalVariablesTest}

Testcase zum Testen der GlobalVariables-Klasse

\begin{description}
\item[testCorrectValue]
	Testet, ob die GlobalVariables-Klasse den richtigen default-Wert zurückgibt.
\item[testAssignValue]
	Testet, ob die GlobalVariables-Klasse einen Wert unter einem Key speichert.
\end{description}

\subsection{ProfileTest}

Testcase zum Testen der Profile-Klasse

\begin{description}
	\item[testCreateProfile] Testet, ob ein Profile erstellt werden kann und diesem eine Statistic- sowie Settings-Instanz zugewiesen werden kann.
	\item[testDBFetch] Testet, ob das Test-Profil aus der Datenbank geladen werden kann und dessen Werte stimmen.
	\item[testOverrideDB] Testet, ob ein Profil bearbeitet werden kann und diese Änderungen zurück in die Datenbank geschrieben werden.
	\item[testGetAllProfiles] Testet, ob die statische Methode \enquote{getAllProfiles} das richtige Profile zurückgibt und ob sich die richtige Anzahl an Profilen in dem Array befindet.
	\item[testGetAllProfilesWithCreate] Testet, ob die statische Methode \enquote{getAllProfiles} auch auf das Erstellen eines neuen Profiles reagiert.
	\item[testGetHashMap] Testet, ob die statische Methode \enquote{getProfileNameIdMap} die richtige Anzahl an Einträgen und den richtigen Eintrag beinhaltet.
\end{description}

\subsection{SettingTest}

Testcase zum Testen der Setting-Klasse.

\begin{description}
	\item[testCreateSetting] Testet, ob eine Settings-Instanz erstellt werden kann und die richtigen Werte zugewiesen wurden.
	\item[testDBFetch] Testet, ob eine Settings-Instanz basierend auf den Demoinformationen der Datenbank erstellt werden kann und über die richtigen Werte verfügt.
	\item[testWriteBack] Testet, ob eine Settings-Instanz in der Lage ist, geänderte Informationen zurück in die Datenbank zu schreiben.
\end{description}

\subsection{StatisticTest}

\begin{description}
	\item[testCreateStatistic] Testet, ob eine Statistics-Instanz erstellt werden kann und die richtigen Werte zugewiesen wurden.
	\item[testDBFetch] Testet, ob eine Statistics-Instanz basierend auf den Demoinformationen der Datenbank erstellt werden kann und über die richtigen Werte verfügt.
	\item[testWriteBack] Testet, ob eine Statistics-Instanz in der Lage ist, geänderte Informationen zurück in die Datenbank zu schreiben.
\end{description}

\clearpage

\section{Package: controllers}

\subsection{GameControllerTest}

\begin{description}
	\item 
\end{description}

\subsection{ProfileControllerTest}

Testcase zum Testen der ProfileController-Klasse.

\begin{description}
	\item[testLoadLastProfile] Testet, ob der ProfileController in der Lage ist, das zuletzt aktive Profile zu laden.
	\item[testRightLoading] Testet, ob der Controller das richtige Profil über die \enquote{loadLastProfile}-Methode geladen hat. Testet außerdem, ob das Laden scheitern kann.
	\item[testDoubleUserName] Testet, ob der Controller das Erstellen eines Profils mit bereits existierenden Namen erlaubt.
	\item[testMaximumProfiles] Testet, ob der Controller die Obergrenze an Profilen einhält.
	\item[testCreateDeleteProfile] Testet, ob der Controller ein Profil erstellt und die Vernichtung dieses Profils im Anschluss vollständig ist.
	\item[testChangeOnProfileCreate] Testet, ob das aktive Profil des Controllers im Anschluss an die Erstellung auf das neu erstellte Profil gewechselt wird.
	\item[testChangeProfile] Testet, ob der Controller den Wechsel des aktiven Profils dieses in der Datenbank vermerkt.
	\item[testListener] Testet, ob der Controller die Klassen, die sich bei ihm angemeldet haben, korrekt benachrichtigt. Dazu benutzt es seinen eigenen MockListener.
\end{description}

\subsection{SettingController}

\begin{description}
	\item [testListener] Testet, ob ein MockListener durch den Controller über Änderungen an den Einstellungen benachrichtigt wird.
\end{description}

\section{Package: gameelements}

\subsection{RetroManTest}

\begin{description}
	\item[testJumpLock] Testet, ob ein erneuter Sprung möglich ist, nachdem RetroMan bereits zuvor gesprungen ist.
	\item[testFacing] Testet, ob die Figur nach links beziehungsweise nach rechts guckt.
	\item[testLeftMovement] Testet, ob die Figur korrekt nach links beschleunigt wird.
	\item[testRightMovement] Testet, ob die Figur korrekt nach rechts beschleunigt wird.
	\item[testJumpLockOnFalling] Testet, ob die Figur nicht springen kann, wenn sie fällt.
\end{description}


\end{document}
